{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../App.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { tick } from \"svelte\";\n  import { POPULAR_CITIES, STORAGE_KEY, LocalStorage, capitalCase } from './utils';\n\n  const inputs = {\n    cities: \"\",\n    otherAlsoSearchFor: \"\",\n    otherExcludedKeywords: '',\n  };\n  const checkboxes = {\n    nearMe: false,\n    verifiedOnly: true,\n    excludeUnverified: true,\n  };\n  const alsoSearchFor = {\n    beds: {\n      keywords: [\"bed\", \"beds\"],\n      checked: true\n    },\n    ICU: {\n      keywords: [\"icu\"],\n      checked: true,\n    },\n    oxygen: {\n      keywords: [\"oxygen\"],\n      checked: true\n    },\n    ventilator: {\n      keywords: [\"ventilator\", \"ventilators\"],\n      checked: true\n    },\n    fabiflu: {\n      keywords: [\"fabiflu\"],\n      checked: true\n    },\n    remdesivir: {\n      keywords: [\"remdesivir\"],\n      checked: false\n    },\n    favipiravir: {\n      keywords: [\"favipiravir\"],\n      checked: false\n    },\n    tocilizumab: {\n      keywords: [\"tocilizumab\"],\n      checked: false\n    },\n    plasma: {\n      keywords: [\"plasma\"],\n      checked: false\n    },\n    tiffin: {\n      keywords: [\"tiffin\"],\n      checked: false\n    }\n  };\n  const excludeKeywords = {\n    needed: {\n      keywords: ['needed'],\n      checked: true,\n    },\n    required: {\n      keywords: ['required'],\n      checked: true,\n    }\n  };\n\n  let links = LocalStorage.getItem(STORAGE_KEY.generated_links, []);\n  let popularCityLinks = [];\n\n  $: alsoSearchFor, inputs, checkboxes, generatePopularCityLinks();\n\n  function generatePopularCityLinks() {\n    popularCityLinks = POPULAR_CITIES.map(city => {\n      return {\n        city,\n        href: generateLinkForCity(city)\n      };\n    });\n  }\n\n  function getAlsoSearchForString() {\n    const keywords = Object.keys(alsoSearchFor).reduce((keywordsSoFar, item) => {\n      if (alsoSearchFor[item].checked) {\n        return keywordsSoFar.concat(alsoSearchFor[item].keywords);\n      } else {\n        return keywordsSoFar;\n      }\n    }, []);\n\n    if (inputs.otherAlsoSearchFor) {\n      keywords.push(inputs.otherAlsoSearchFor);\n    }\n\n    if (keywords.length > 0) {\n      return `(${keywords.join(\" OR \")})`;\n    } else {\n      return \"\";\n    }\n  }\n\n  function getExcludedKeywordsString() {\n    const keywords = Object.keys(excludeKeywords).reduce((keywordsSoFar, item) => {\n      if (excludeKeywords[item].checked) {\n        return keywordsSoFar.concat(excludeKeywords[item].keywords);\n      } else {\n        return keywordsSoFar;\n      }\n    }, []);\n\n    if (inputs.otherExcludedKeywords) {\n      keywords.push(inputs.otherExcludedKeywords);\n    }\n\n    return keywords.map(keyword => `-\"${keyword}\"`).join(' ');\n  }\n\n  function generateLinkForCity(city) {\n    const base = `https://twitter.com/search`;\n    const params = new URLSearchParams();\n\n    const query = [\n      checkboxes.verifiedOnly && \"verified\",\n      city.trim(),\n      getAlsoSearchForString(),\n      checkboxes.excludeUnverified && '-\"not verified\"',\n      checkboxes.excludeUnverified && '-\"unverified\"',\n      getExcludedKeywordsString(),\n    ]\n      .filter(Boolean)\n      .join(\" \");\n\n    params.set(\"q\", query);\n\n    params.set(\"f\", \"live\");\n\n    if (checkboxes.nearMe) {\n      params.set(\"lf\", \"on\");\n    }\n\n    const link = `${base}?${params.toString()}`;\n\n    return link;\n  }\n\n  function generate() {\n    if (!inputs.cities) {\n      alert(\"Please enter city name(s)\");\n      return;\n    }\n\n    const cities = inputs.cities\n      .split(\",\")\n      .map(city => city.trim())\n      .filter(Boolean);\n\n    links = cities.map(city => {\n      return {\n        city,\n        href: generateLinkForCity(city)\n      };\n    });\n\n    tick().then(() => {\n      const firstItem = document.querySelector(\"#city-links li\");\n\n      if (firstItem) {\n        firstItem.scrollIntoView();\n        firstItem.focus();\n\n        alert('Please check the Links section');\n      }\n\n      LocalStorage.setItem(STORAGE_KEY.generated_links, links);\n    });\n  }\n\n  function clearSavedLinks() {\n    links = [];\n\n    LocalStorage.removeItem(STORAGE_KEY.generated_links);\n  }\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n\n  main {\n    font-family: sans-serif;\n    margin: 0 auto;\n    max-width: 600px;\n    padding: 0 20px 20px;\n  }\n\n  label,\n  button {\n    cursor: pointer;\n  }\n\n  button {\n    font-size: 1.2rem;\n  }\n\n  form > div {\n    margin-bottom: 12px;\n  }\n\n  li {\n    margin-bottom: 4px;\n  }\n\n  .feedback {\n    margin-top: 60px;\n  }\n\n  li img {\n    max-width: 300px;\n    height: auto;\n  }\n\n  .split {\n    display: flex;\n    align-items: top;\n    flex-wrap: wrap;\n  }\n\n  #tips {\n    width: 100%;\n  }\n\n  #city-links {\n    border: 1px dashed blue;\n  }\n\n  .highlight-red {\n    border: 1px solid red;\n    padding: 4px;\n  }\n\n  @media screen and (min-width: 769px) {\n    #main-content {\n      margin-right: 20px;\n      max-width: calc(100% - 20ch - 20px - 1em);\n    }\n\n    #quick-links {\n      max-width: 20ch;\n      flex-grow: 0;\n    }\n\n    .only-mobile {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: 768px) {\n    .split > * {\n      width: 100%;\n    }\n\n    #quick-links {\n      order: 1;\n    }\n\n    #tips {\n      order: 2;\n    }\n\n    #main-content {\n      order: 3;\n    }\n\n    #other-resources {\n      order: 4;\n    }\n\n    #donate {\n      order: 5;\n    }\n\n    .list-split-on-mobile {\n      display: flex;\n      flex-wrap: wrap;\n      padding-left: 1em;\n    }\n\n    .list-split-on-mobile > * {\n      width: 50%;\n    }\n  }\n\n  @media screen and (max-width: 320px) {\n    .list-split-on-mobile > * {\n      width: 100%;\n    }\n  }\n</style>\n\n<main>\n\t<h1>Twitter Search for COVID</h1>\n\n  <div class=\"split\">\n    <div id=\"main-content\">\n      <div id=\"tips\">\n        <h2>Tips</h2>\n        <ol>\n          <li><strong>Do NOT make advanced payments unless you are 100% sure about their authenticity</strong></li>\n          <li>Check for replies under the tweets</li>\n          <li>\n            Make sure search results are sorted by \"Latest\"\n            <br />\n            <img src=\"sort-click-here.jpg\" alt=\"\" />\n          </li>\n        </ol>\n      </div>\n\n      <h2>Search by city/cities</h2>\n      <form on:submit|preventDefault={generate}>\n        <div>\n          <label for=\"cities\">List of cities (comma-separated, e.g. indore, jamnagar)</label>\n          <br />\n          <input type=\"text\" bind:value={inputs.cities} id=\"cities\" />\n        </div>\n\n        <div>\n          Also search for:\n\n          {#each Object.keys(alsoSearchFor) as item (item)}\n            <div>\n              <input type=\"checkbox\" bind:checked={alsoSearchFor[item].checked} id={`alsoSearchFor-${item}`} />\n              <label for={`alsoSearchFor-${item}`}>{capitalCase(item)}</label>\n            </div>\n          {/each}\n\n          <div>\n            <label for=\"alsoSearchFor-other\">Other:</label>\n            <input type=\"text\" bind:value={inputs.otherAlsoSearchFor} id=\"alsoSearchFor-other\" />\n          </div>\n\n        </div>\n\n        <div>\n          Tweets should <strong>NOT</strong> have these words:\n\n          {#each Object.keys(excludeKeywords) as item (item)}\n            <div>\n              <input type=\"checkbox\" bind:checked={excludeKeywords[item].checked} id={`excludeKeywords-${item}`} />\n              <label for={`excludeKeywords-${item}`}>\"{item}\"</label>\n            </div>\n          {/each}\n\n          <div>\n            <label for=\"excludeKeywords-other\">Other:</label>\n            <input type=\"text\" bind:value={inputs.otherExcludedKeywords} id=\"excludeKeywords-other\" />\n          </div>\n        </div>\n\n        <div>\n          <input type=\"checkbox\" bind:checked={checkboxes.nearMe} id=\"nearMe\" />\n          <label for=\"nearMe\">Show Tweets near me</label>\n        </div>\n\n        <div>\n          <input type=\"checkbox\" bind:checked={checkboxes.verifiedOnly} id=\"verifiedOnly\" />\n          <label for=\"verifiedOnly\">\n            Show verified tweets only\n            <br />\n            <strong>Uncheck this for smaller cities</strong>\n            <br />\n            (Tweet should contain \"verified\")\n          </label>\n        </div>\n\n        <div>\n          <input type=\"checkbox\" bind:checked={checkboxes.excludeUnverified} id=\"excludeUnverified\" />\n          <label for=\"excludeUnverified\">\n            Exclude unverified tweets\n            <br />\n            (Tweet should not contain \"not verified\" and \"unverified\")\n          </label>\n        </div>\n\n        <div>\n          <button>Generate Links</button>\n        </div>\n      </form>\n\n      {#if links.length > 0}\n        <h2>Your Generated Links</h2>\n\n        <ol id=\"city-links\">\n          {#each links as link (link.href)}\n            <li><a href={link.href} target=\"_blank\" rel=\"noopener noreferrer\">{capitalCase(link.city)}</a></li>\n          {/each}\n        </ol>\n\n        <button on:click={clearSavedLinks}>Clear saved links</button>\n      {/if}\n    </div>\n    <div id=\"quick-links\">\n      <h2>Quick Links</h2>\n\n      <ol class=\"list-split-on-mobile\">\n        {#each popularCityLinks as link (link.href)}\n          <li><a href={link.href} target=\"_blank\" rel=\"noopener noreferrer\">{capitalCase(link.city)}</a></li>\n        {/each}\n      </ol>\n\n      <h3 class=\"only-mobile highlight-red\">Scroll down to search for more cities and keywords</h3>\n    </div>\n    <div id=\"other-resources\">\n      <h2>Other Resources</h2>\n      <ul>\n        <li><a href=\"https://covidfacts.in/\" target=\"_blank\" rel=\"noopener noreferrer\">covidfacts.in</a></li>\n      </ul>\n    </div>\n\n    <div id=\"donate\">\n      <h2>[VOLUNTARY] Places you can Donate to</h2>\n      <ul>\n        <li><a href=\"https://hemkuntfoundation.com/donate-now/\" target=\"_blank\" rel=\"noopener noreferrer\">Hemkunt Foundation</a> has been helping out with Oxygen Cylinders. 80G donation receipts available.</li>\n      </ul>\n    </div>\n  </div>\n\n  <div class=\"feedback\">\n    <div><a href=\"https://twitter.com/umanghome/status/1383759182495588355\" target=\"_blank\" rel=\"noopener noreferrer\">Got feedback?</a></div>\n    <div><a href=\"https://github.com/umanghome/twitter-search-covid19\" target=\"_blank\" rel=\"noopener noreferrer\">Source code</a></div>\n    <div>Made by <a href=\"https://twitter.com/umanghome\" target=\"_blank\" rel=\"noopener noreferrer\">Umang</a> with ideas from a lot of folks on the Internet</div>\n  </div>\n</main>\n"
  ],
  "names": [],
  "mappings": "AAyLE,8BAAE,CAAC,AACD,UAAU,CAAE,UAAU,AACxB,CAAC,AAED,IAAI,8BAAC,CAAC,AACJ,WAAW,CAAE,UAAU,CACvB,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,CAAC,CAAC,IAAI,CAAC,IAAI,AACtB,CAAC,AAED,mCAAK,CACL,MAAM,8BAAC,CAAC,AACN,MAAM,CAAE,OAAO,AACjB,CAAC,AAED,MAAM,8BAAC,CAAC,AACN,SAAS,CAAE,MAAM,AACnB,CAAC,AAED,mBAAI,CAAG,GAAG,eAAC,CAAC,AACV,aAAa,CAAE,IAAI,AACrB,CAAC,AAED,EAAE,8BAAC,CAAC,AACF,aAAa,CAAE,GAAG,AACpB,CAAC,AAED,SAAS,8BAAC,CAAC,AACT,UAAU,CAAE,IAAI,AAClB,CAAC,AAED,iBAAE,CAAC,GAAG,eAAC,CAAC,AACN,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,IAAI,AACd,CAAC,AAED,MAAM,8BAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,IAAI,AACjB,CAAC,AAED,KAAK,8BAAC,CAAC,AACL,KAAK,CAAE,IAAI,AACb,CAAC,AAED,WAAW,8BAAC,CAAC,AACX,MAAM,CAAE,GAAG,CAAC,MAAM,CAAC,IAAI,AACzB,CAAC,AAED,cAAc,8BAAC,CAAC,AACd,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,GAAG,CACrB,OAAO,CAAE,GAAG,AACd,CAAC,AAED,OAAO,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AACpC,aAAa,8BAAC,CAAC,AACb,YAAY,CAAE,IAAI,CAClB,SAAS,CAAE,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,AAC3C,CAAC,AAED,YAAY,8BAAC,CAAC,AACZ,SAAS,CAAE,IAAI,CACf,SAAS,CAAE,CAAC,AACd,CAAC,AAED,YAAY,8BAAC,CAAC,AACZ,OAAO,CAAE,IAAI,AACf,CAAC,AACH,CAAC,AAED,OAAO,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AACpC,qBAAM,CAAG,eAAE,CAAC,AACV,KAAK,CAAE,IAAI,AACb,CAAC,AAED,YAAY,8BAAC,CAAC,AACZ,KAAK,CAAE,CAAC,AACV,CAAC,AAED,KAAK,8BAAC,CAAC,AACL,KAAK,CAAE,CAAC,AACV,CAAC,AAED,aAAa,8BAAC,CAAC,AACb,KAAK,CAAE,CAAC,AACV,CAAC,AAED,gBAAgB,8BAAC,CAAC,AAChB,KAAK,CAAE,CAAC,AACV,CAAC,AAED,OAAO,8BAAC,CAAC,AACP,KAAK,CAAE,CAAC,AACV,CAAC,AAED,qBAAqB,8BAAC,CAAC,AACrB,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,IAAI,CACf,YAAY,CAAE,GAAG,AACnB,CAAC,AAED,oCAAqB,CAAG,eAAE,CAAC,AACzB,KAAK,CAAE,GAAG,AACZ,CAAC,AACH,CAAC,AAED,OAAO,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AACpC,oCAAqB,CAAG,eAAE,CAAC,AACzB,KAAK,CAAE,IAAI,AACb,CAAC,AACH,CAAC"
}